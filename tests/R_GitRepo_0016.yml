resources:
  - name: R_GitRepo_0016_dummy_repo
    type: GitRepo
    configuration:
      gitProvider: gitlab
      path: automation/dummy
      cloneProtocol: https
  - name: connector
    type: PropertyBag
    configuration:
      hell: world


pipelines:
  - name: R_GitRepo_0016_dummy_repo_0016
    steps:
      - name: R_GitRepo_0016_dummy_repo_0016_step_1
        type: Bash
        configuration:


          inputResources:
            - name: R_GitRepo_0016_dummy_repo
              trigger: false
            - name: dummy
          outputResources:
            - name: connector
        execution:
          onExecute:
            - pushd ${res_R_GitRepo_0016_dummy_repo_resourcePath}
            - echo "test ${run_id}" > dummy.txt
            - git config user.name 'JFrog Pipelines'
            - git config user.email 'build@pipelines.jfrog.com'
            - git add -A
            - git commit -m "test ${run_id}"
            - git push origin main

  - name: R_GitRepo_0016_dummy_repo_0016_triggered
    steps:
      - name: R_GitRepo_0016_dummy_repo_0016_step_1
        type: Bash
        configuration:
          inputResources:
            - name: connector
              trigger: false
            - name: R_GitRepo_0016_dummy_repo
        execution:
          onExecute:
            - pushd ${res_R_GitRepo_0016_dummy_repo_resourcePath}
            - cat dummy.txt


